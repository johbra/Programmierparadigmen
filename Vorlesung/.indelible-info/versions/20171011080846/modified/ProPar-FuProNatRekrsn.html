<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
<!-- 2017-05-02 Tue 22:47 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Funktionale Programmierung &#x2013; Natürliche Rekursion</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Johannes Brauer" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="styles/bigblow/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="styles/bigblow/css/bigblow.css"/>
<link rel="stylesheet" type="text/css" href="styles/bigblow/css/hideshow.css"/>
<script type="text/javascript" src="styles/bigblow/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="styles/bigblow/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="styles/bigblow/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="styles/bigblow/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="styles/bigblow/js/jquery.zclip.min.js"></script>
<script type="text/javascript" src="styles/bigblow/js/bigblow.js"></script>
<script type="text/javascript" src="styles/bigblow/js/hideshow.js"></script>
<script type="text/javascript" src="styles/lib/js/jquery.stickytableheaders.min.js"></script>
<link rel="stylesheet" type="text/css" href="mycss/mystyle.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Funktionale Programmierung &#x2013; Natürliche Rekursion
<br>
<span class="subtitle">Programmierparadigmen</span>
</h1>


<div id="outline-container-org06e1098" class="outline-2">
<h2 id="org06e1098">Symbolische Ausdrücke</h2>
<div class="outline-text-2" id="text-org06e1098">
</div><div id="outline-container-org31581fe" class="outline-3">
<h3 id="org31581fe">Symbole</h3>
<div class="outline-text-3" id="text-org31581fe">
<ul class="org-ul">
<li><i>Symbole</i> sind eine einfache Möglichkeit für die Repräsentation
nicht-numerischer Daten.</li>
<li>Symbole sind aufgebaut wie Variablennamen; damit sie nicht als solche
interpretiert werden, ist ein Hochkomma voranzustellen.</li>
<li>Beispiele:<br />
'<code>symbol 'KarlMarx 'Dies-ist-auch-ein-Symbol 'x1</code></li>
<li>Symbole dürfen Buchstaben, Ziffern und ein paar Sonderzeichen (keine
Leerzeichen!) enthalten.</li>
<li>Symbole sind &#x2013; wie Zahlen &#x2013; atomare Daten.</li>
<li>Symbole werden &#x2013; wie Zahlen &#x2013; zu sich selbst ausgewertet.</li>
<li>Einzige Operation auf symbolischen Atomen ist die Prüfung auf
Gleichheit: <code>=</code> erwartet zwei Symbole als Argumente und liefert
<code>true</code> dann und nur dann, wenn sie identisch sind:</li>
</ul>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span>= '<span style="color: #6434A3;">Hallo</span> '<span style="color: #6434A3;">Hallo</span><span style="color: #707183;">)</span> ==&gt; <span style="color: #D0372D;">true</span> 
       <span style="color: #707183;">(</span>= '<span style="color: #6434A3;">Karl</span> '<span style="color: #6434A3;">Rosa</span><span style="color: #707183;">)</span>   ==&gt; <span style="color: #D0372D;">false</span>
       <span style="color: #707183;">(</span>= '<span style="color: #6434A3;">Hallo</span> hallo<span style="color: #707183;">)</span>  ==&gt; <span style="color: #D0372D;">true</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">(wenn hallo f&#252;r &#8217;Hallo steht)</span>
</pre>
</pre>
</div>
</div>
</div>


<div id="outline-container-org304d8ba" class="outline-3">
<h3 id="org304d8ba">S-Ausdrücke</h3>
<div class="outline-text-3" id="text-org304d8ba">
<ul class="org-ul">
<li><i>Symbolische Ausdrücke</i> (kurz: S-Ausdrücke) wurden erfunden von
McCarthy für LISP.</li>

<li><b>Definition:</b> (vorläufig)<br />
Ein S-Ausdruck ist

<ul class="org-ul">
<li>ein Atom, z.B. <code>27</code>, <code>’Karl</code>, <code>’ist</code></li>

<li>eine Folge von S-Ausdrücken, eingeschlossen in (), z.B.<br />
<code>’(Karl ist 27)</code>,<br />
<code>’((Dies ist) (eine Liste) (mit 3 Elementen))</code><br />
Solche S-Ausdrücke heißen <i>Listen</i>.
(Man beachte die Rekursivität dieser Definition!)</li>
</ul></li>

<li>Atome sind entweder numerisch, boolesch oder symbolisch.</li>
</ul>
</div>
</div>

<div id="outline-container-org195b579" class="outline-3">
<h3 id="org195b579">Darstellung von Formeln als S-Ausdrücke</h3>
<div class="outline-text-3" id="text-org195b579">
<ul class="org-ul">
<li><p>
Bestandteile einer Formel: Konstanten, Variablen und duale Operatoren
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Formel</b></th>
<th scope="col" class="org-left"><b>S-Ausdruck</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Konstante</td>
<td class="org-left">numerisches Atom</td>
</tr>

<tr>
<td class="org-left">Variable</td>
<td class="org-left">symbolisches Atom</td>
</tr>

<tr>
<td class="org-left">Operator</td>
<td class="org-left">symbolisches Atom</td>
</tr>

<tr>
<td class="org-left">\(p+q\)</td>
<td class="org-left">(ADD \(p\) \(q\))</td>
</tr>

<tr>
<td class="org-left">\(p-q\)</td>
<td class="org-left">(SUB \(p\) \(q\))</td>
</tr>

<tr>
<td class="org-left">\(p\ast q\)</td>
<td class="org-left">(MUL \(p\) \(q\))</td>
</tr>

<tr>
<td class="org-left">\(p/q\)</td>
<td class="org-left">(DIV \(p\) \(q\))</td>
</tr>

<tr>
<td class="org-left">\(p^q\)</td>
<td class="org-left">(EXP \(p\) \(q\))</td>
</tr>
</tbody>
</table>
<p>
\(p\) und \(q\) stehen für Teile einer Formel
</p></li>
</ul>
</div>
<div id="outline-container-org6a18526" class="outline-4">
<h4 id="org6a18526">Beispiel-Formel</h4>
<div class="outline-text-4" id="text-org6a18526">
<ul class="org-ul">
<li>Die Formel \(x^2+3y-5\) wird durch den S-Ausdruck<br />
<code>’(ADD (EXP x 2) (SUB (MUL 3 y ) 5))</code><br />
dargestellt.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgdf0e627" class="outline-3">
<h3 id="orgdf0e627">Konstruktion von Listen</h3>
<div class="outline-text-3" id="text-orgdf0e627">
<ul class="org-ul">
<li>Ausgangspunkt für die Konstruktion einer Liste ist die leere Liste,
die durch<br />
<code>’()</code><br />
repräsentiert wird. (Clojure akzeptiert fast überall auch <code>()</code>.)</li>
<li>Mit der Funktion <code>cons</code> kann ein Element als neues erstes Element
einer Liste hinzugefügt werden.<br /></li>
</ul>
<div class="small">
<div class="org-src-container">
<pre class="src src-clojure">   <span style="color: #707183;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Karl</span> <span style="color: #7388D6;">()</span> <span style="color: #707183;">)</span>                            ==&gt; <span style="color: #707183;">(</span><span style="color: #6434A3;">Karl</span><span style="color: #707183;">)</span>
   <span style="color: #707183;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Rosa</span> <span style="color: #7388D6;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Karl</span> <span style="color: #909183;">()</span> <span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>               ==&gt; <span style="color: #707183;">(</span><span style="color: #6434A3;">Rosa</span> <span style="color: #6434A3;">Karl</span><span style="color: #707183;">)</span>
   <span style="color: #707183;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Klara</span> <span style="color: #7388D6;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Rosa</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">cons</span> &#8217;<span style="color: #6434A3;">Karl</span> <span style="color: #709870;">()</span> <span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span> ==&gt; <span style="color: #707183;">(</span><span style="color: #6434A3;">Klara</span> <span style="color: #6434A3;">Rosa</span> <span style="color: #6434A3;">Karl</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div>
<ul class="org-ul">
<li>Die Standardfunktion <code>cons</code> erwartet zwei Argumente:
<ul class="org-ul">
<li>ein neues erstes Element und</li>
<li>eine Liste</li>
</ul></li>
</ul>
<ul class="org-ul">
<li>Jede Liste kann man sich aus zwei Teilen bestehend vorstellen:
<ul class="org-ul">
<li>das erste Element und</li>
<li>die Restliste.</li>
</ul></li>
<li>Die drei obigen Listen können dann so veranschaulicht werden:</li>
</ul>

<div class="figure">
<p><img src="./Abbildungen/Listen.png" alt="Listen.png" width="150px" />
</p>
</div>

<div class="figure">
<p><img src="./Abbildungen/Listen2.png" alt="Listen2.png" width="220px" />
</p>
</div>

<div class="figure">
<p><img src="./Abbildungen/Listen3.png" alt="Listen3.png" width="250px" />
</p>
</div>
<ul class="org-ul">
<li>eine andere gebräuchliche Darstellung für Listen:</li>
</ul>

<div class="figure">
<p><img src="./Abbildungen/Listen4.png" alt="Listen4.png" width="350px" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgcf15540" class="outline-3">
<h3 id="orgcf15540">Zerlegung von Listen</h3>
<div class="outline-text-3" id="text-orgcf15540">
<ul class="org-ul">
<li>Clojure stellt zwei Funktionen bereit zum Zugriff auf die beiden
Komponenten einer Liste:
<ul class="org-ul">
<li><code>first</code> liefert &#x2013; angewendet auf eine nicht leere Liste &#x2013; das
erste Element.</li>
<li><code>rest</code> liefert &#x2013; angewendet auf eine nicht leere Liste &#x2013; die
Restliste.</li>
</ul></li>
<li><p>
Der Zusammenhang zwischen <code>cons</code>, <code>first</code> und <code>rest</code> kann durch die
folgenden Gleichungen beschrieben werden:
</p>

<p>
\[(first (cons\ elem\ liste))  = elem\\
   (rest (cons\ elem\ liste))  =  liste\]
</p></li>

<li><p>
Beispiele:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #006FE0;">first</span> <span style="color: #7388D6;">(</span><span style="color: #006FE0;">cons</span> 1 <span style="color: #909183;">(</span><span style="color: #006FE0;">cons</span> 2 <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> 3 <span style="color: #907373;">()</span> <span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span> ==&gt; 1
       <span style="color: #707183;">(</span><span style="color: #006FE0;">first</span> <span style="color: #7388D6;">(</span><span style="color: #006FE0;">rest</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">cons</span> 1 <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> 2 <span style="color: #907373;">(</span><span style="color: #006FE0;">cons</span> 3 <span style="color: #6276BA;">()</span> <span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span> ==&gt; 2
       <span style="color: #707183;">(</span><span style="color: #006FE0;">first</span> <span style="color: #7388D6;">()</span> <span style="color: #707183;">)</span> ==&gt; <span style="color: #D0372D;">nil</span>
       <span style="color: #707183;">(</span><span style="color: #006FE0;">rest</span> <span style="color: #7388D6;">()</span> <span style="color: #707183;">)</span>  ==&gt; <span style="color: #707183;">()</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgc46afad" class="outline-2">
<h2 id="orgc46afad">Funktionen für die Verarbeitung rekursiv definierter Datenstrukturen</h2>
<div class="outline-text-2" id="text-orgc46afad">
</div><div id="outline-container-orgecbc0df" class="outline-3">
<h3 id="orgecbc0df">Rekursive Datenstrukturen</h3>
<div class="outline-text-3" id="text-orgecbc0df">
<ul class="org-ul">
<li>Für einen Gebrauchtwagenhändler repräsentieren wir die Menge der im
Angebot befindlichen Automarken in einer Liste von Symbolen, z.B. so:<br />
<code>(’VW ’Opel ’Toyota)</code></li>
<li>Listen können beliebig lang werden (vgl. Definition des S-Ausdrucks).
Eine <i>Liste-von-Symbolen (lvs)</i> kann als Datenstruktur wie folgt
rekursiv definiert werden: Eine <i>Liste-von-Symbolen</i> ist entweder
<ol class="org-ol">
<li>die leere Liste: <code>()</code> oder</li>
<li><code>(cons s lvs)</code>, wobei <code>s</code> ein Symbol und <code>lvs</code> eine
<i>Liste-von-Symbolen</i> ist</li>
</ol></li>
<li>Bei der Verarbeitung von Listen müssen in der Regel diese beiden
Alternativen getrennt behandelt werden. Das bedeutet, dass eine
Fallunterscheidung erforderlich ist.</li>
<li>Die leere Liste <code>()</code> kann mit dem Prädikat <code>empty?</code> erkannt werden.</li>
</ul>
</div>
</div>

<div id="outline-container-org54ecc60" class="outline-3">
<h3 id="org54ecc60">Verarbeitung beliebig langer Listen <i>(1)</i></h3>
<div class="outline-text-3" id="text-org54ecc60">
<ul class="org-ul">
<li>Es soll geprüft werden können, ob in der Liste mit den Automarken
<code>’BMW</code> vorkommt.</li>
<li><p>
Gemäß Entwurfsvorschrift I schreiben wir Vertrag, Zweckbestimmung und
Funktionskopf auf:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">ermittelt, ob das Symbol 'BMW in der </span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">liste-von-symbolen auftritt</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">enthaelt-bmw?</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
           <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
            <span style="color: #D0372D;">:post</span><span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #0000FF;">or</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">true?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">false?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
           ...<span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgb21f777" class="outline-3">
<h3 id="orgb21f777">Verarbeitung beliebig langer Listen <i>(2)</i></h3>
<div class="outline-text-3" id="text-orgb21f777">
<ul class="org-ul">
<li><p>
Anschließend formulieren wir drei Tests:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-enthaelt-bmw?</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">not</span> <span style="color: #709870;">(</span>enthaelt-bmw? <span style="color: #907373;">()</span> <span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> 
          <span style="color: #909183;">(</span><span style="color: #006FE0;">not</span> <span style="color: #709870;">(</span>enthaelt-bmw? 
                <span style="color: #907373;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #D0372D;">VW</span> 
                      <span style="color: #6276BA;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #6434A3;">Opel</span> 
                            <span style="color: #858580;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #6434A3;">Toyota</span> <span style="color: #80A880;">()</span> <span style="color: #858580;">)</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span>
          <span style="color: #909183;">(</span>enthaelt-bmw? 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #D0372D;">VW</span> 
                 <span style="color: #907373;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #6434A3;">Opel</span> 
                    <span style="color: #6276BA;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #D0372D;">BMW</span>
                          <span style="color: #858580;">(</span><span style="color: #006FE0;">cons</span> '<span style="color: #6434A3;">Toyota</span> <span style="color: #80A880;">()</span> <span style="color: #858580;">)</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgaeda5ba" class="outline-3">
<h3 id="orgaeda5ba">Verarbeitung beliebig langer Listen <i>(3)</i></h3>
<div class="outline-text-3" id="text-orgaeda5ba">
<ul class="org-ul">
<li>Nun definieren wir eine <i>Funktionsschablone</i> gemäß Entwurfsvorschrift
II (für bedingte Funktionen), die der Struktur der Datendefinition
<i>Liste-von-Symbolen</i> folgt.</li>
<li><p>
Da diese Definition zwei Fälle &#x2013; die leere und die nicht-leere Liste &#x2013;
unterscheidet, ergibt sich folgende Schablone:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">f</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
             <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
                   <span style="color: #D0372D;">:else</span>        ... <span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>

<ul class="org-ul">
<li><p>
Eine nicht-leere Liste ist eine aus zwei Komponenten zusammengesetzte
Datenstruktur:
</p>
<ol class="org-ol">
<li>dem ersten Element und</li>
<li>der Restliste (ohne das erste Element).</li>
</ol>
<p>
Da für die Verarbeitung einer solchen Struktur in der Regel auf beide
Komponenten zugegriffen werden muss, ergänzen wir die Schablone nun
um die Aufrufe der Selektionsfunktionen für diese beiden Komponenten.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org04b60ae" class="outline-3">
<h3 id="org04b60ae">Verarbeitung beliebig langer Listen <i>(4)</i></h3>
<div class="outline-text-3" id="text-org04b60ae">
<ul class="org-ul">
<li>Aus diesen Überlegungen ergibt sich folgende Schablone:</li>
</ul>
<div class="small">
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">f</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
            <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
              <span style="color: #D0372D;">:else</span>  ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> 
                     ... <span style="color: #709870;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #709870;">)</span>  ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div>
<ul class="org-ul">
<li>Die Auslassungszeichen sind dann entsprechend der Zweckbestimmung
auszufüllen, d.h. die Lösung muss aus den Zugriffen auf das erste
Element und die Restliste geeignet kombiniert werden.</li>
<li>Kehren wir dazu zu unserem Beispiel zurück.</li>
</ul>
</div>
</div>

<div id="outline-container-org5a0fc66" class="outline-3">
<h3 id="org5a0fc66">Verarbeitung beliebig langer Listen <i>(5)</i></h3>
<div class="outline-text-3" id="text-org5a0fc66">
<ul class="org-ul">
<li><p>
Die Schablone angewendet auf <code>enthaelt-bmw?</code>, wobei die Lösung für
den Fall der leeren Liste bereits eingetragen ist:
</p>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">enthaelt-bmw?</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
            <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #D0372D;">false</span>
              <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> 
                    ... <span style="color: #709870;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgde796d1" class="outline-3">
<h3 id="orgde796d1">Verarbeitung beliebig langer Listen <i>(6)</i></h3>
<div class="outline-text-3" id="text-orgde796d1">
<ul class="org-ul">
<li><p>
Nun betrachten wir die Komponenten der nicht-leeren Liste. Falls das
erste Element das gesuchte ist, muss die Funktion <code>true</code> liefern:
</p>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">enthaelt-bmw?</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
            <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #D0372D;">false</span>
              <span style="color: #D0372D;">:else</span> 
                 <span style="color: #709870;">(</span><span style="color: #0000FF;">cond</span> <span style="color: #907373;">(</span>= <span style="color: #6276BA;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #6276BA;">)</span> '<span style="color: #D0372D;">BMW</span><span style="color: #907373;">)</span> <span style="color: #D0372D;">true</span>
                       <span style="color: #D0372D;">:else</span> ... <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #907373;">)</span> ...<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgb3e76a3" class="outline-3">
<h3 id="orgb3e76a3">Verarbeitung beliebig langer Listen <i>(7)</i></h3>
<div class="outline-text-3" id="text-orgb3e76a3">
<ul class="org-ul">
<li>Falls das gesuchte Symbol nicht das erste in der Liste ist, hängt das
Ergebnis der Funktion davon ab, ob es in der Restliste gefunden wird.
Da die Restliste ja selbst wieder eine <i>Liste-von-Symbolen</i> ist, ist
auf sie die Funktion <code>enthaelt-bmw?</code> anwendbar:</li>
</ul>
<div class="small">
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">enthaelt-bmw?</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
           <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
            <span style="color: #D0372D;">:post</span><span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #0000FF;">or</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">true?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">false?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
             <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #D0372D;">false</span>
                   <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span><span style="color: #0000FF;">cond</span> <span style="color: #907373;">(</span>= <span style="color: #6276BA;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #6276BA;">)</span> '<span style="color: #D0372D;">BMW</span><span style="color: #907373;">)</span> <span style="color: #D0372D;">true</span>
                               <span style="color: #D0372D;">:else</span> <span style="color: #907373;">(</span>enthaelt-bmw? <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div>
<ul class="org-ul">
<li>Damit ist die Funktion vollständig. (Zu finden unter enthaelt-bmw.clj
in <i>moodle</i>.)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd52816f" class="outline-2">
<h2 id="orgd52816f">Entwurfsvorschrift V</h2>
<div class="outline-text-2" id="text-orgd52816f">
</div><div id="outline-container-org414dd70" class="outline-3">
<h3 id="org414dd70">Entwurfsvorschrift V (Verarbeitung von Listen) <i>(1)</i></h3>
<div class="outline-text-3" id="text-org414dd70">
<ul class="org-ul">
<li>Die Funktion <code>enthaelt-bmw?</code> wurde unter Verwendung der
Entwurfsvorschriften I und II entwickelt.</li>
<li>Anpassung der Entwurfsvorschrift für die Entwicklung von Funktionen
zur Verarbeitung <i>rekursiver Datenstrukturen</i>:
<ul class="org-ul">
<li>Die Phase <i>Datenanalyse</i> wird ergänzt um die Aktivität zum Entwurf
der rekursiven Datenstruktur. Dies ist grundsätzlich dann nötig,
wenn Datenmengen beliebiger Größe zu verarbeiten sind.</li>
</ul></li>
<li>Die Definition einer rekursiven Datenstruktur erfolgt durch
Aufschreiben von mindestens zwei Sätzen, wobei mindestens einer einen
Rückbezug auf die Definition und mindestens einer keinen Rückbezug
auf die Definition aufweist.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf6d6dd4" class="outline-3">
<h3 id="orgf6d6dd4">Entwurfsvorschrift V <i>(2)</i></h3>
<div class="outline-text-3" id="text-orgf6d6dd4">
<ul class="org-ul">
<li>Betrachten wir dazu noch einmal die Definition der Liste von
Symbolen:</li>
</ul>

<div class="figure">
<p><img src="./Abbildungen/lvs.png" alt="lvs.png" width="600px" />
</p>
</div>
<ul class="org-ul">
<li>Der Pfeil verdeutlicht den Selbstbezug der Definition.</li>
</ul>
</div>
</div>

<div id="outline-container-org6deaae5" class="outline-3">
<h3 id="org6deaae5">Entwurfsvorschrift V <i>(3)</i></h3>
<div class="outline-text-3" id="text-org6deaae5">
<ul class="org-ul">
<li>In der Phase <i>Funktionsschablone</i> wird eine solche für
eine bedingte Funktion erstellt, die für jeden Satz der Definition
der rekursiven Datenstruktur eine Frage-Antwort-Kombination enthält.</li>
<li>Dabei könnte für jede Frage, die eine dem Parameter der Funktion
gleichartige Datenstruktur selektiert, ein Pfeil auf den
Funktionsnamen gezeichnet werden.</li>
<li>Man erhält dann eine Funktionsschablone, die zur rekursiven
Definition der Datenstruktur gewissermaßen isomorph ist:</li>
</ul>

<div class="figure">
<p><img src="./Abbildungen/listenfunktion.png" alt="listenfunktion.png" width="600px" />
</p>
</div>
</div>
</div>
<div id="outline-container-org7d5ed7e" class="outline-3">
<h3 id="org7d5ed7e">Entwurfsvorschrift V &#x2013; Funktionsschablone</h3>
<div class="outline-text-3" id="text-org7d5ed7e">
<ul class="org-ul">
<li>Dieser Rückwärtspfeil wird durch eine rekursive Anwendung der
Funktion ersetzt.</li>
<li>Damit ergibt sich für das Beispiel der Verarbeitung beliebig langer
Listen von Symbolen die folgende Funktionsschablone:</li>
</ul>
<div class="small">
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">listen-funktion</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
            <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
               <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
               <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> ... 
                     ... <span style="color: #709870;">(</span>listen-funktion <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #907373;">)</span><span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div>
<ul class="org-ul">
<li>Wir sprechen hier von <b>natürlicher Rekursion</b>.</li>
</ul>
</div>
</div>

<div id="outline-container-org4186b1b" class="outline-3">
<h3 id="org4186b1b">Entwurfsvorschrift V &#x2013; Funktionsrumpf</h3>
<div class="outline-text-3" id="text-org4186b1b">
<ul class="org-ul">
<li>Die Entwicklung des Funktionsrumpfs beginnt mit den
Frage-Antwort-Kombinationen, die keine rekursiven Aufrufe enthalten.
<ul class="org-ul">
<li>Die Antwort ist in der Regel einfach.</li>
<li>Sie sollte in den Beispielen bereits vorkommen.</li>
</ul></li>
<li>Für die rekursiven Fälle ist zunächst vorauszusetzen, dass die
rekursive Anwendung der Funktion auf die Restliste bereits das
gewünschte Ergebnis liefert.</li>
<li><p>
Dieses ist mit dem Ergebnis für das erste Element der Liste geeignet
(problemabhängig) zu kombinieren.
</p>

<p>
Dieser Schritt besteht in dem Beispiel <code>enthaelt-bmw?</code> in einer
weiteren Fallunterscheidung.
</p></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4cbc137" class="outline-2">
<h2 id="org4cbc137">Entwurfsvorschrift V &#x2013; Zusammenfassung</h2>
<div class="outline-text-2" id="text-org4cbc137">
</div><div id="outline-container-org2305154" class="outline-3">
<h3 id="org2305154">Entwurfsvorschrift V (Rekursive Datenstrukturen)</h3>
<div class="outline-text-3" id="text-org2305154">
<p>
Die sechs Phasen der Entwurfsvorschrift II bleiben grundsätzlich bestehen.
</p>

<ol class="org-ol">
<li>Vertrag, Funktionskopf, Zweckbestimmung</li>
<li><b>Datenanalyse / Datendefinition</b></li>
<li><b>Beispiele / Tests</b></li>
<li><b>Funktionsschablone</b></li>
<li>Funktionsrumpf</li>
<li>Testen</li>
</ol>

<p>
Es folgt die Beschreibung der neuen bzw. angepassten Phasen.
</p>
</div>
</div>

<div id="outline-container-org81594a5" class="outline-3">
<h3 id="org81594a5">Entwurfsvorschrift V - Phase 2</h3>
<div class="outline-text-3" id="text-org81594a5">
<p>
<b>Datenanalyse / Datendefinition</b>
</p>
<ul class="org-ul">
<li>Ziel: Definition von problemangepassten Datenstrukturen</li>
<li>Aktivitäten:
<ul class="org-ul">
<li>Analysiere die Problembeschreibung hinsichtlich der zu
verarbeitenden Objekte. Definiere für jede Objektmenge eine
(rekursive) Datenstruktur!</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org2a8f3a3" class="outline-3">
<h3 id="org2a8f3a3">Entwurfsvorschrift V - Phase 3</h3>
<div class="outline-text-3" id="text-org2a8f3a3">
<p>
<b>Beispiele / Tests</b>
</p>
<ul class="org-ul">
<li>Ziel: Untersuche die Problembeschreibung nach Beispielen</li>
<li>Aktivitäten:
<ul class="org-ul">
<li><p>
Formuliere mindestens einen Test für den Fall, dass die rekursive
Datenstruktur
</p>
<ul class="org-ul">
<li>keine Elemente,</li>
<li>genau ein Element oder</li>
<li>mehr als ein Element</li>
</ul>
<p>
enthält!
</p></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgce0f37c" class="outline-3">
<h3 id="orgce0f37c">Entwurfsvorschrift V - Phase 4</h3>
<div class="outline-text-3" id="text-orgce0f37c">
<p>
<b>Funktionsschablone</b>
</p>
<ul class="org-ul">
<li>Ziel: Entwurf einer Funktionsschablone, die der rekursiven Struktur
der Daten folgt.</li>
<li>Aktivitäten:
<ul class="org-ul">
<li>Schreibe das Skelett eines <code>cond</code>-Ausdrucks auf mit je einer
Frage-Antwort-Klausel für jeden nicht-rekursiven und jeden
rekursiven Fall!</li>
<li>Notiere dabei für die rekursiven Fälle die passenden
Selektionsausdrücke <code>(first ...), (rest ...)</code>, <b>wobei auf den</b>
<b>Ausdruck <code>(rest ...)</code> die zu entwickelnde Funktion rekursiv
anzuwenden ist</b>.</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge9ae948" class="outline-2">
<h2 id="orge9ae948">Listen als Resultate</h2>
<div class="outline-text-2" id="text-orge9ae948">
</div><div id="outline-container-org18e1305" class="outline-3">
<h3 id="org18e1305">Anwendung von Entwurfsvorschrift V</h3>
<div class="outline-text-3" id="text-org18e1305">
<ul class="org-ul">
<li>Dem Gebrauchtwagenhändler soll eine Funktion zur Verfügung gestellt
werden, mit der er ein Modell aus seiner Angebotspalette entfernen
kann.</li>
<li><p>
Vertrag, Funktionskopf, Zweckbestimmung
</p>
<div class="small">
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">entfernt eine Modell aus der Modellpalette</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">entferne-modell</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>modellpalette modell<span style="color: #909183;">]</span>
           <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? modellpalette<span style="color: #907373;">)</span> 
                   <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> modell<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
            <span style="color: #D0372D;">:post</span><span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
          ...<span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div></li>
<li>Tests s. u. (aus "'Platzgründen"')</li>
</ul>
</div>
</div>

<div id="outline-container-org0d5f870" class="outline-3">
<h3 id="org0d5f870">Funktionsschablone für <code>entferne-modell</code></h3>
<div class="outline-text-3" id="text-org0d5f870">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">entfernt eine Modell aus der Modellpalette</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">entferne-modell</span>
       <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>modellpalette modell<span style="color: #909183;">]</span>
        <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? modellpalette<span style="color: #907373;">)</span> 
                <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> modell<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
         <span style="color: #D0372D;">:post</span><span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
         <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
          <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> modellpalette<span style="color: #709870;">)</span> ...
          <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> modellpalette<span style="color: #709870;">)</span> ... 
                ... <span style="color: #709870;">(</span>entferne-modell 
                      <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> modellpalette<span style="color: #907373;">)</span> modell<span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga075e8c" class="outline-3">
<h3 id="orga075e8c">Funktionsrumpf für <code>entferne-modell</code></h3>
<div class="outline-text-3" id="text-orga075e8c">
<ul class="org-ul">
<li>Folgende Fälle sind zu unterscheiden:
<ol class="org-ol">
<li>Wenn die Modellpalette die leere Liste ist, ist das Resultat
<code>empty</code>.</li>
<li>Wenn das zu entfernende Modell das erste in der Liste ist, so ist
das Resultat die Restliste.</li>
<li>Andernfalls besteht die Ergebnisliste aus dem ersten Modell und
der Restliste, aus der das zu entfernende Modell entfernt wurde.</li>
</ol></li>
</ul>
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">entferne-modell</span>
      <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>modellpalette modell<span style="color: #909183;">]</span>
        <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
          <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> modellpalette<span style="color: #709870;">)</span> <span style="color: #709870;">()</span>
          <span style="color: #709870;">(</span>= <span style="color: #907373;">(</span><span style="color: #006FE0;">first</span> modellpalette<span style="color: #907373;">)</span> modell<span style="color: #709870;">)</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">rest</span> modellpalette<span style="color: #709870;">)</span>
          <span style="color: #D0372D;">:else</span>
              <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">first</span> modellpalette<span style="color: #907373;">)</span>
                    <span style="color: #907373;">(</span>entferne-modell <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> modellpalette<span style="color: #6276BA;">)</span> 
                                     modell<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6cadeb8" class="outline-3">
<h3 id="org6cadeb8">Funktion <code>entferne-modell</code> ohne Tests</h3>
<div class="outline-text-3" id="text-org6cadeb8">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">entfernt eine Modell aus der Modellpalette</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">entferne-modell</span>
      <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>modellpalette modell<span style="color: #909183;">]</span>
        <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? modellpalette<span style="color: #907373;">)</span> 
                <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> modell<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
         <span style="color: #D0372D;">:post</span><span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
        <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
          <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> modellpalette<span style="color: #709870;">)</span> <span style="color: #709870;">()</span>
          <span style="color: #709870;">(</span>= <span style="color: #907373;">(</span><span style="color: #006FE0;">first</span> modellpalette<span style="color: #907373;">)</span> modell<span style="color: #709870;">)</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">rest</span> modellpalette<span style="color: #709870;">)</span>
          <span style="color: #D0372D;">:else</span>
              <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">first</span> modellpalette<span style="color: #907373;">)</span>
                    <span style="color: #907373;">(</span>entferne-modell <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> modellpalette<span style="color: #6276BA;">)</span> 
                                     modell<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-org73cc527" class="outline-3">
<h3 id="org73cc527">Tests für <code>entferne-modell</code></h3>
<div class="outline-text-3" id="text-org73cc527">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-entferne-modell</span>
      <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>entferne-modell <span style="color: #907373;">()</span> '<span style="color: #D0372D;">BMW</span><span style="color: #709870;">)</span> <span style="color: #709870;">()</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
      <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>entferne-modell '<span style="color: #907373;">(</span><span style="color: #D0372D;">BMW</span><span style="color: #907373;">)</span> '<span style="color: #D0372D;">BMW</span><span style="color: #709870;">)</span> <span style="color: #709870;">()</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
      <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>entferne-modell '<span style="color: #907373;">(</span><span style="color: #D0372D;">BMW</span><span style="color: #907373;">)</span> '<span style="color: #D0372D;">OPEL</span><span style="color: #709870;">)</span> '<span style="color: #709870;">(</span><span style="color: #D0372D;">BMW</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
      <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>entferne-modell '<span style="color: #907373;">(</span><span style="color: #D0372D;">BMW</span> <span style="color: #D0372D;">OPEL</span> <span style="color: #D0372D;">FORD</span><span style="color: #907373;">)</span> '<span style="color: #D0372D;">TOYOTA</span><span style="color: #709870;">)</span> 
             '<span style="color: #709870;">(</span><span style="color: #D0372D;">BMW</span> <span style="color: #D0372D;">OPEL</span> <span style="color: #D0372D;">FORD</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
      <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>entferne-modell '<span style="color: #907373;">(</span><span style="color: #D0372D;">BMW</span> <span style="color: #D0372D;">OPEL</span> <span style="color: #D0372D;">FORD</span><span style="color: #907373;">)</span> '<span style="color: #D0372D;">OPEL</span><span style="color: #709870;">)</span> 
             '<span style="color: #709870;">(</span><span style="color: #D0372D;">BMW</span> <span style="color: #D0372D;">FORD</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgca4c4db" class="outline-2">
<h2 id="orgca4c4db">Entwurfsvorschrift V und Hilfsfunktionen</h2>
<div class="outline-text-2" id="text-orgca4c4db">
</div><div id="outline-container-org74a8e20" class="outline-3">
<h3 id="org74a8e20">Top-down-Entwurf</h3>
<div class="outline-text-3" id="text-org74a8e20">
<ul class="org-ul">
<li>Anhand eines weiteren Beispiels soll die Anwendung von
Entwurfsvorschrift V demonstriert werden.</li>
<li>Während des Entwurfsprozesses kann es sich als zweckmäßig erweisen,
für die Lösung bestimmter Teilprobleme eigene Funktionen
(Hilfsfunktionen) vorzusehen.</li>
<li>Dabei ist es hilfreich, diese Hilfsfunktionen als bereits existent
vorauszusetzen, um zunächst mit ihrer Hilfe die Lösung des
Hauptproblems formulieren zu können.</li>
<li><p>
Diese Vorgehensweise wird als
</p>
<ul class="org-ul">
<li><i>Top-down-Entwurf</i> oder auch</li>
<li><i>schrittweise Verfeinerung</i></li>
</ul>
<p>
bezeichnet.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org9cd27fe" class="outline-3">
<h3 id="org9cd27fe">Literaturhinweise</h3>
<div class="outline-text-3" id="text-org9cd27fe">
<ul class="org-ul">
<li>Gelegentlich werden auch die Begriffe Wunschdenken oder Wunschliste
benutzt, z.B. in
<ol class="org-ol">
<li>M. Felleisen, R. Findler, M. Flatt, S. Krishnamurthi: How to
Design Programs. (<a class='org-ref-reference' href="#Htdp2003">Htdp2003</a>)</li>
<li>H. Klaeren, M. Sperber: Die Macht der Abstraktion.
(<a class='org-ref-reference' href="#KlaerenSperber2007">KlaerenSperber2007</a>)</li>
</ol></li>
<li>Das Prinzip der Entwurfsvorschriften stammt aus HtDP.</li>
<li><p>
Ein weiteres empfehlenswertes Buch:
</p>
<ol class="org-ol">
<li>Abelson, G. Sussman, J. Sussman: Structure and Interpretation of</li>
</ol>
<p>
Computer Programs. (<a class='org-ref-reference' href="#Sicp1999">Sicp1999</a>)
</p></li>
</ul>
</div>
</div>

<div id="outline-container-orgcb473da" class="outline-3">
<h3 id="orgcb473da">Top-down-Entwurf &#x2013; Beispiel</h3>
<div class="outline-text-3" id="text-orgcb473da">
<ul class="org-ul">
<li><p>
Die Funktion <code>(symbolsin x)</code> liefere, angewandt auf eine Liste von
Symbolen, eine Liste mit dem einmaligen Auftreten jedes dieser
Symbole:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">x</th>
<th scope="col" class="org-left">(symbolsin x)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">(DIE KATZE UND DIE MAUS)</td>
<td class="org-left">(DIE KATZE UND MAUS)</td>
</tr>

<tr>
<td class="org-left">(A B A B A C A)</td>
<td class="org-left">(A B C)</td>
</tr>
</tbody>
</table>
<p>
Die Anwendung von Entwurfsvorschrift V (ohne Tests) liefert
zunächst:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">entfernt aus eine Liste von Symbolen jedes </span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">mehrfache Auftreten eines Symbols</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">symbolsin</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
             <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
              <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
             <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
                   <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> ... 
                         ... <span style="color: #709870;">(</span>symbolsin <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #907373;">)</span><span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc17e3ed" class="outline-3">
<h3 id="orgc17e3ed">Top-down-Entwurf &#x2013; Beispiel <i>(2)</i></h3>
<div class="outline-text-3" id="text-orgc17e3ed">
<ul class="org-ul">
<li>Das Resultat von <code>symbolsin</code> ist <code>()</code>, wenn das Argument die leere
Liste ist.</li>
<li>Für die Kombination des Ergebnisses aus dem ersten Listenelement und
der rekursiven Anwendung von <code>symbolsin</code> auf die Restliste sind zwei
Fälle zu unterscheiden:
<ol class="org-ol">
<li>Wenn das erste Element in <code>(symbolsin (rest lvs))</code> bereits
auftaucht, ist <code>(symbolsin (rest lvs))</code> schon das endgültige
Resultat.</li>
<li>Wenn es dort noch nicht vorhanden ist, muss das erste Element noch
hinzugefügt werden.</li>
</ol></li>
<li>Das Ergebnis von <code>symbolsin</code> kann als eine <i>Menge</i>, repräsentiert
durch eine Liste ohne Wiederholungen, betrachtet werden. Diese Idee
führt auf eine Hilfsfunktion <code>addtoset</code>, die ein Element einer Menge
hinzufügt, wenn es in ihr nicht bereits enthalten ist.</li>
</ul>
</div>
</div>

<div id="outline-container-org07d2083" class="outline-3">
<h3 id="org07d2083">Top-down-Entwurf &#x2013; Beispiel <i>(3)</i></h3>
<div class="outline-text-3" id="text-org07d2083">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">fuegt einer Liste von Symbolen ein weiteres hinzu, </span>
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">falls es nicht bereits enthalten ist.</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">addtoset</span>
       <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs s<span style="color: #909183;">]</span>
          <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> s<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
           <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
          <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
             <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
             <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> ... 
                   ... <span style="color: #709870;">(</span>addtoset <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #907373;">)</span> s<span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

    <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-addtoset</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>addtoset '<span style="color: #907373;">(</span>a b c<span style="color: #907373;">)</span> 'b<span style="color: #709870;">)</span> '<span style="color: #709870;">(</span>a b c<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>addtoset '<span style="color: #907373;">(</span>a b c<span style="color: #907373;">)</span> 'd<span style="color: #709870;">)</span> '<span style="color: #709870;">(</span>d a b c<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
<p>
Mit dieser Funktion kann <code>symbolsin</code> vervollständigt werden.
</p>
</div>
</div>

<div id="outline-container-org0065323" class="outline-3">
<h3 id="org0065323">Top-down-Entwurf &#x2013; Beispiel <i>(4)</i></h3>
<div class="outline-text-3" id="text-org0065323">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">entfernt aus eine Liste von Symbolen jedes </span>
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">mehrfache Auftreten eines Symbols</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">symbolsin</span>
      <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs<span style="color: #909183;">]</span>
        <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
         <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
        <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
          <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #709870;">()</span>
          <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span>addtoset
                   <span style="color: #907373;">(</span>symbolsin <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span>
                   <span style="color: #907373;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

    <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-addtoset</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>symbolsin <span style="color: #907373;">()</span><span style="color: #709870;">)</span> <span style="color: #709870;">()</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>symbolsin '<span style="color: #907373;">(</span>a b c a d c<span style="color: #907373;">)</span><span style="color: #709870;">)</span> '<span style="color: #709870;">(</span>b a d c<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-org46442d1" class="outline-3">
<h3 id="org46442d1">Top-down-Entwurf &#x2013; Beispiel <i>(5)</i></h3>
<div class="outline-text-3" id="text-org46442d1">
<ul class="org-ul">
<li>Für die Funktion <code>addtoset</code> stellen wir folgende Überlegungen an:
<ul class="org-ul">
<li>Falls die Liste (Menge) leer ist, kann das neue Element mit <code>cons</code>
hinzugefügt werden.</li>
<li>Wenn die Menge nicht leer ist, muss geprüft werden, ob das Element
bereits in der Liste enthalten ist.</li>
</ul></li>
<li><p>
Fügen wir der Wunschliste ein Prädikat <code>member?</code> hinzu.
</p>
<div class="org-src-container">
<pre class="src src-clojure">       ...
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">addtoset</span>
          <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs s<span style="color: #909183;">]</span>
           <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> s<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
            <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
           <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> s lvs<span style="color: #709870;">)</span>
              <span style="color: #D0372D;">:else</span>
                 <span style="color: #709870;">(</span><span style="color: #0000FF;">cond</span>
                    <span style="color: #907373;">(</span>member? lvs s<span style="color: #907373;">)</span> lvs<span style="color: #709870;">)</span>
                    <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">cons</span> s lvs<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgbb3a69a" class="outline-3">
<h3 id="orgbb3a69a">Top-down-Entwurf &#x2013; Beispiel <i>(6)</i></h3>
<div class="outline-text-3" id="text-orgbb3a69a">
<p>
Die Schablone für die Funktion <code>member?</code>:
</p>

<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84; font-style: italic;">; prueft, ob ein Symbol in einer Liste enthalten ist.</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">member?</span>
       <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs s<span style="color: #909183;">]</span>
          <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> s<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
           <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #0000FF;">or</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">true?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">false?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
          <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
             <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> ...
             <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #709870;">)</span> ... 
                   ... <span style="color: #709870;">(</span>member? <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #907373;">)</span> s<span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

    <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-member</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>member? '<span style="color: #709870;">(</span>a b x<span style="color: #709870;">)</span> 'x<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">not</span> <span style="color: #709870;">(</span>member? '<span style="color: #907373;">(</span>a b x<span style="color: #907373;">)</span> 'y<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga389ee9" class="outline-3">
<h3 id="orga389ee9">Top-down-Entwurf &#x2013; Beispiel <i>(7)</i></h3>
<div class="outline-text-3" id="text-orga389ee9">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #8D8D84; font-style: italic;">; prueft, ob ein Symbol in einer Liste enthalten ist.</span>
    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">member?</span>
       <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lvs s<span style="color: #909183;">]</span>
          <span style="color: #909183;">{</span><span style="color: #D0372D;">:pre</span>  <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #006FE0;">every?</span> symbol? lvs<span style="color: #907373;">)</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">symbol?</span> s<span style="color: #907373;">)</span><span style="color: #709870;">]</span>
           <span style="color: #D0372D;">:post</span> <span style="color: #709870;">[</span><span style="color: #907373;">(</span><span style="color: #0000FF;">or</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">true?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">false?</span> <span style="color: #BA36A5;">%</span><span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">]</span><span style="color: #909183;">}</span>
          <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
             <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lvs<span style="color: #709870;">)</span> <span style="color: #D0372D;">false</span>
             <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span><span style="color: #0000FF;">cond</span>
                      <span style="color: #907373;">(</span>= <span style="color: #6276BA;">(</span><span style="color: #006FE0;">first</span> lvs<span style="color: #6276BA;">)</span> s<span style="color: #907373;">)</span> <span style="color: #D0372D;">true</span>
                      <span style="color: #D0372D;">:else</span> <span style="color: #907373;">(</span>member? <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> lvs<span style="color: #6276BA;">)</span> s<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

    <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-member</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>member? '<span style="color: #709870;">(</span>a b x<span style="color: #709870;">)</span> 'x<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
       <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">not</span> <span style="color: #709870;">(</span>member? '<span style="color: #907373;">(</span>a b x<span style="color: #907373;">)</span> 'y<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

<p>
Das vollständige Programm <code>symbolsin</code> ist zu finden unter
symbolsin.clj in moodle. 
</p>
</div>
</div>
</div>



<div id="outline-container-org97e8ab0" class="outline-2">
<h2 id="org97e8ab0">Rekursive Definition der natürlichen Zahlen</h2>
<div class="outline-text-2" id="text-org97e8ab0">
</div><div id="outline-container-org7838fc2" class="outline-3">
<h3 id="org7838fc2">Mathematische Definition</h3>
<div class="outline-text-3" id="text-org7838fc2">
<ul class="org-ul">
<li>Bisher wurden nur Listen als rekursive Datenstrukturen betrachtet.</li>
<li>Mathematisch können die natürlichen Zahlen folgendermaßen definiert
werden:
<ul class="org-ul">
<li>\(0\) ist eine natürliche Zahl.</li>
<li>Wenn \(n\) eine natürliche Zahl ist, dann ist auch \(succ(n)\) eine
natürliche Zahl.</li>
</ul></li>
<li>Wir definieren also
<ul class="org-ul">
<li>eine Konstante (\(0\)) und</li>
<li>eine Nachfolgeroperation (\(succ\)).</li>
</ul></li>
<li>Der Term \(succ(succ(succ(0)))\) entspricht dann der \(3\),
ohne dass wir die \(3\) als Konstante einführen müssen.</li>
<li>Durch die Prämisse im zweiten Teil der Definition ist diese rekursiv.</li>
</ul>
</div>
</div>
<div id="outline-container-org36b5ba5" class="outline-3">
<h3 id="org36b5ba5">Definition in Clojure</h3>
<div class="outline-text-3" id="text-org36b5ba5">
<ul class="org-ul">
<li>In Clojure-Notation könnte die Definition lauten:
<ol class="org-ol">
<li><code>zero</code> ist eine natürliche Zahl.</li>
<li><code>(succ n)</code> ist eine natürliche Zahl, wenn <code>n</code> eine natürliche Zahl
ist.</li>
</ol></li>
<li>Um Verwechslungen mit den in Clojure eingebauten Zahlen zu vermeiden,
wird hier die Konstante Null durch <code>zero</code> anstelle von <code>0</code> dargestellt.</li>
</ul>
</div>
</div>

<div id="outline-container-org03b0698" class="outline-3">
<h3 id="org03b0698">Clojure-Definitionen für zero und succ</h3>
<div class="outline-text-3" id="text-org03b0698">
<ul class="org-ul">
<li><p>
Konstanten sind u.a. dadurch gekennzeichnet, dass sie zu sich selbst
ausgewertet werden. Für die Konstante <code>zero</code> können wir das durch die
folgende Definition erreichen:
</p>

<div class="smaller">
<div class="org-src-container">
<pre class="src src-clojure">    <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">zero</span> 'zero<span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div></li>

<li>Die Eingabe von <i>zero</i> in der Repl liefert dann <code>zero</code>.</li>

<li>Da wir in unserer abstrakten, rekursiven Definition für andere
natürliche Zahlen nur <code>succ</code>-Terme haben, soll auch ein
Clojure-Ausdruck <code>(succ (succ zero))</code> zu sich selbst ausgewertet
werden. Dies ist durch folgende Definition zu erreichen:</li>
</ul>

<div class="smaller">
<div class="org-src-container">
<pre class="src src-clojure">        <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">succ</span>
           <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>n<span style="color: #909183;">]</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">list</span> 'succ n<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div>

</div>

<ul class="org-ul">
<li>Die Auswertung von<br />
  <code>(succ (succ (succ zero)))</code> <br />
liefert damit<br />
  <code>(succ (succ (succ zero)))</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgdcbbcbc" class="outline-3">
<h3 id="orgdcbbcbc">Der abstrakte Datentyp <b>Nat</b></h3>
<div class="outline-text-3" id="text-orgdcbbcbc">
<ul class="org-ul">
<li><p>
Mit den Definitionen für <code>zero</code> und <code>succ</code> haben wir quasi einen
neuen Datentyp geschaffen, den wir <b>Nat</b> nennen wollen.
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">zero</span> 'zero<span style="color: #707183;">)</span>

       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">succ: Nat -&gt; Nat</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">succ</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>n<span style="color: #909183;">]</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">list</span> 'succ n<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-succ</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>succ zero<span style="color: #709870;">)</span> <span style="color: #709870;">(</span>succ zero<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>=  <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
<li>Mithilfe dieses Datentyps können wir Funktionen definieren, die z.B.
natürliche Zahlen (d.h. Exemplare von <b>Nat</b>) als Ergebnis liefern.</li>
</ul>
</div>
</div>

<div id="outline-container-org1677ba4" class="outline-3">
<h3 id="org1677ba4">Anwendung des Datentyps <b>Nat</b></h3>
<div class="outline-text-3" id="text-org1677ba4">
<ul class="org-ul">
<li>Beispiel: Zählen der Elemente einer Liste.</li>

<li><p>
In Anlehnung an Entwurfsvorschrift V ergibt sich folgende
Schablone:
</p>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">zaehlt die Anzahl der Elemente ihres Arguments</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">countElements: (list-of any) -&gt; Nat</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">countElements</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lst<span style="color: #909183;">]</span>
            <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
              <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lst<span style="color: #709870;">)</span> ... 
              <span style="color: #D0372D;">:else</span> ... <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> lst<span style="color: #709870;">)</span> ... 
                        <span style="color: #709870;">(</span>countelements <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> lst<span style="color: #907373;">)</span><span style="color: #709870;">)</span> ...<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-countElements</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span><span style="color: #808080;">countElements</span> <span style="color: #907373;">()</span> <span style="color: #709870;">)</span> zero<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span><span style="color: #808080;">countElements</span> '<span style="color: #907373;">(</span>19 27 36<span style="color: #907373;">)</span><span style="color: #709870;">)</span> 
                <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>succ <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgfaaff7e" class="outline-3">
<h3 id="orgfaaff7e">Die Funktion <code>countElements</code></h3>
<div class="outline-text-3" id="text-orgfaaff7e">
<ul class="org-ul">
<li><p>
Wenn die Liste nicht leer ist, ist das Resultat der Nachfolger der
Anwendung von <code>countElements</code> auf die Restliste.
</p>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">zaehlt die Anzahl der Elemente ihres Arguments</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">countElements: (list-of any) -&gt; Nat</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">countElements</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>lst<span style="color: #909183;">]</span>
           <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span>
             <span style="color: #709870;">(</span><span style="color: #006FE0;">empty?</span> lst<span style="color: #709870;">)</span> zero
             <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span><span style="color: #808080;">countElements</span> <span style="color: #6276BA;">(</span><span style="color: #006FE0;">rest</span> lst<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span> 

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-countElements</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span><span style="color: #808080;">countElements</span> <span style="color: #907373;">()</span> <span style="color: #709870;">)</span> zero<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span><span style="color: #808080;">countElements</span> '<span style="color: #907373;">(</span>19 27 36<span style="color: #907373;">)</span><span style="color: #709870;">)</span> 
                <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>succ <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org4086a83" class="outline-3">
<h3 id="org4086a83">Weitere Operationen für <b>Nat</b></h3>
<div class="outline-text-3" id="text-org4086a83">
<ul class="org-ul">
<li>Die Operation \(succ\) ermöglicht es bisher nur (vorwärts) zu zählen.</li>
<li>Wir definieren zwei weitere Operationen zur
<ul class="org-ul">
<li>Ermittlung des Vorgängers einer natürlichen Zahl: \(pred\)</li>
<li>Addition von zwei natürlichen Zahlen: \(plus\)</li>
</ul></li>
<li>Die Definitionen nehmen wir dadurch vor, dass wir die
Wechselwirkungen der neuen Operationen mit den Basisoperationen \(0\)
und \(succ\) zunächst durch Gleichungen beschreiben.
<ul class="org-ul">
<li>Für \(pred\) gelte (mit \(n \in \textbf{Nat}\)):
\[\begin{aligned}
                      pred(succ(n)) & = & n  \\
                      pred(0) & & \mathrm{undefiniert}  
                  \end{aligned}\]</li>
<li>Für \(plus\) gelte (mit \(n, m \in \textbf{Nat}\)):
\[\begin{aligned}
                       plus(0, n) & = & n  \\
                       plus(succ(n), m) & = & succ(plus(n, m))  
                   \end{aligned}\]</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgffb1182" class="outline-3">
<h3 id="orgffb1182">Prädikat <code>zero?</code></h3>
<div class="outline-text-3" id="text-orgffb1182">
<ul class="org-ul">
<li>Beide Definitionen basieren auf einer Fallunterscheidung. Um sie in
entsprechende Clojure-Definitionen zu übertragen, ist es sinnvoll,
zunächst ein Prädikat <code>=zero?</code> zu definieren, das feststellt, ob sein
Argument <code>zero</code> ist.</li>
<li><p>
Dabei nutzen wir die Tatsache, dass  Exemplare von <b>Nat</b> entweder
<code>succ</code>-Terme (also Listen) oder <code>zero</code> sind.
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">prueft, ob ihr Argument zero ist.</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">=zero?: Nat -&gt; boolean</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">=zero?</span> 
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>n<span style="color: #909183;">]</span>
           <span style="color: #909183;">(</span>= n zero<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-=zero?</span> 
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>=  <span style="color: #709870;">(</span>=zero? zero<span style="color: #709870;">)</span> <span style="color: #D0372D;">true</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>=  <span style="color: #709870;">(</span>=zero? <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #D0372D;">false</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org1e8dc57" class="outline-3">
<h3 id="org1e8dc57">Der abstrakte Datentyp <b>Nat</b>: <code>pred</code></h3>
<div class="outline-text-3" id="text-org1e8dc57">
<ul class="org-ul">
<li><p>
Definieren wir nun die Funktion <code>pred</code>:
</p>

<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">liefert den Term des Vorgaengers ihres Arguments</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">pred: Nat -&gt; Nat</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">pred</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>n<span style="color: #909183;">]</span>
           <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span>
             <span style="color: #709870;">(</span>=zero? n<span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #0000FF;">throw</span> 
                         <span style="color: #907373;">(</span><span style="color: #6434A3;">Exception.</span> 
                          <span style="color: #008000;">"zero hat keinen Vorgaenger"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
             <span style="color: #D0372D;">:else</span>
              <span style="color: #709870;">(</span><span style="color: #006FE0;">first</span> <span style="color: #907373;">(</span><span style="color: #006FE0;">rest</span> n<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-pred</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>=  <span style="color: #709870;">(</span>pred <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span> zero<span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>=  <span style="color: #709870;">(</span>pred <span style="color: #907373;">(</span>succ <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span>succ zero<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>thrown? <span style="color: #6434A3;">Exception</span> <span style="color: #709870;">(</span>pred zero<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org8670371" class="outline-3">
<h3 id="org8670371">Der abstrakte Datentyp <b>Nat</b>: <code>plus</code></h3>
<div class="outline-text-3" id="text-org8670371">
<ul class="org-ul">
<li><p>
Die rekursive Definition von \(plus\) übertragen wir in eine rekursive
Funktion <code>plus</code>:
</p>
<div class="org-src-container">
<pre class="src src-clojure">       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">berechnet die Summe ihrer Argumente</span>
       <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">plus: Nat Nat -&gt; Nat</span>
       <span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">plus</span>
         <span style="color: #7388D6;">(</span><span style="color: #0000FF;">fn</span> <span style="color: #909183;">[</span>n m<span style="color: #909183;">]</span>
           <span style="color: #909183;">(</span><span style="color: #0000FF;">cond</span> 
            <span style="color: #709870;">(</span>=zero? n<span style="color: #709870;">)</span> m
            <span style="color: #D0372D;">:else</span> <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>plus <span style="color: #6276BA;">(</span>pred n<span style="color: #6276BA;">)</span> m<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

       <span style="color: #707183;">(</span><span style="color: #006FE0;">deftest</span> <span style="color: #006699;">test-plus</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>plus zero <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span>  <span style="color: #709870;">(</span>succ zero<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>plus <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span> <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span> 
                     <span style="color: #909183;">(</span>succ <span style="color: #709870;">(</span>succ zero<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span>
         <span style="color: #7388D6;">(</span><span style="color: #006FE0;">is</span> <span style="color: #909183;">(</span>= <span style="color: #709870;">(</span>plus <span style="color: #907373;">(</span>succ zero<span style="color: #907373;">)</span>
                      <span style="color: #907373;">(</span>plus <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span> <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
                <span style="color: #709870;">(</span>succ <span style="color: #907373;">(</span>succ <span style="color: #6276BA;">(</span>succ zero<span style="color: #6276BA;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org57b823a" class="outline-3">
<h3 id="org57b823a">Der Datentyp <b>Nat</b>: Zusammenfassung</h3>
<div class="outline-text-3" id="text-org57b823a">
<p>
Was haben wir gelernt?
</p>

<ul class="org-ul">
<li>Rekursive Datenstrukturen können beliebig wachsen.</li>
<li>Der Datentyp <b>Nat</b> ermöglicht das Rechnen mit beliebig großen
natürlichen Zahlen.</li>
<li>Das kann man in Clojure zwar einfacher haben, in mancher populärer
Programmiersprache aber nicht.</li>
<li>Datentypen kann man bauen.</li>
<li>Mit Exemplaren des abstrakten Datentyps <b>Nat</b> kann man rechnen, ohne
sich auf eine herkömmliche (maschinenabhängige) Repräsentation von
Zahlen festlegen zu müssen.</li>
<li><b>Ausblick:</b> Abstrakte Datentypen haben eine besondere Bedeutung für
die formale Spezifikation der Semantik von Software erlangt.</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org247f1d8" class="outline-2">
<h2 id="org247f1d8">Zusammenfassung</h2>
<div class="outline-text-2" id="text-org247f1d8">
</div><div id="outline-container-orgadd57d5" class="outline-3">
<h3 id="orgadd57d5">Entwurfsvorschrift (Bedeutung)</h3>
<div class="outline-text-3" id="text-orgadd57d5">
<ul class="org-ul">
<li>kein Allheilmittel!</li>
<li>stellt eine Handlungsanleitung dar.</li>
<li>Phase 3 stellt hohe Anforderungen:
<ul class="org-ul">
<li>Verstehen der Problembeschreibung,</li>
<li>Vermögen, mathematische Zusammenhänge zu erkennen,</li>
<li>Einarbeitung in fremde Begriffswelt,</li>
<li>Entwicklung eigener Fachsprachen.</li>
<li>Informatik = Sprachingenieurwesen?</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org79d9eb6" class="outline-2">
<h2 id="org79d9eb6"><h1 class='org-ref-bib-h1'>Bibliography</h1>
<ul class='org-ref-bib'><li><a id="Htdp2003">[Htdp2003] Matthias Felleisen, Robert Bruce Findler, Matthew Flatt & Shriram Krishnamurthi, How to Design Programs, The MIT Press (2003).</a></li>
<li><a id="KlaerenSperber2007">[KlaerenSperber2007] Herbert Klaeren & Michael Sperber, Die Macht der Abstraktion, B. G. Teubner (2007).</a></li>
<li><a id="Sicp1999">[Sicp1999] Harold Abelson, Gerald Jay Sussman & Julie Sussman, Structure and interpretation of computer programs, The MIT Press (1999).</a></li>
</ul></h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: Johannes Brauer</p>
<p class="date">Created: 2017-05-02 Tue 22:47</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>